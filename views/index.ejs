<!DOCTYPE html>
<html>

<head>
  <title>
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/6ea2cb925f.js" crossorigin="anonymous"></script>
  <style>
    .sort-icon {
      margin-left: 5px;
    }

    .sort-icon.asc:before {
      content: "\f0de";
    }

    .sort-icon.desc:before {
      content: "\f0dd";
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>BREADS (Browse, Read, Update, Delete, Sort)</h1>
    <h4>Filters</h4>
    <form action="/" method="get">
      <input type="hidden" name="page" value="1">
      <div class="row mb-3">
        <label for="inputId" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkId" id="checkId">
          ID
        </label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="id" name="id">
        </div>
      </div>
      <div class="row mb-3">
        <label for="inputStr" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkStr" id="checkStr">
          String
        </label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="string" name="string">
        </div>
      </div>
      <div class="row mb-3">
        <label for="inputInt" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkInt" id="checkInt">
          Integer
        </label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="integer" name="integer">
        </div>
      </div>
      <div class="row mb-3">
        <label for="inputFloat" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkFloat" id="checkFloat">
          Float
        </label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="float" name="float">
        </div>
      </div>
      <div class="row mb-3">
        <label for="inputDate" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkDate" id="checkDate">
          Date
        </label>
        <div class="col-sm-4">
          <input type="date" class="form-control" id="startDate" name="startDate">
          to
          <input type="date" class="form-control" id="endDate" name="endDate">
        </div>
      </div>
      <div class="row mb-3">
        <label for="inputBol" class="col-sm-4 col-form-label">
          <input type="checkbox" name="checkBol" id="checkBol">
          Boolean
        </label>
        <div class="col-sm-8">
          <select name="boolean" id="boolean" class="form-select">
            <option>Choose the boolean</option>
            <option value="true">True</option>
            <option value="false">False</option>
          </select>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Search</button>
      <a href="/" class="btn btn-secondary">Back</a>
    </form>
  </div>
  <br>
  <div class="container">
    <table class="table table-striped table-bordered">
      <thead>
        <tr align="center">
          <th>
            ID
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>
            String
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>
            Integer
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>
            Float
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>
            Date
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>
            Boolean
            <a href="">
              <span class="fa fa-sort"></span>
            </a>
          </th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="data-body">
      </tbody>
    </table>
  </div>

  <script type="text/javascript">
    async function readData() {
      try {
        const response = await fetch("http://localhost:3100/data");
        if (response.ok) {
          const data = await response.json();
          // Display data
          displayData(data)

        } else {
          throw new Error("Error: " + response.status);
        }
      } catch (error) {
        console.log(error)
      }
    }
    function displayData(data) {
      let html = "";
      data.forEach((item, index) => {
        html += `
        <tr>
          <td>${item.id}</td>
          <td>${item.string}</td>
          <td>${item.integer}</td>
          <td>${item.float}</td>
          <td>${item.date}</td>
          <td>${item.boolean}</td>
          <td>
              <a href="" class="btn btn-success btn-sm">Edit</a>
              <a href="" class="btn btn-danger btn-sm">Delete</a>
          </td>
        </tr>`
      });
      document.getElementById('data-body').innerHTML = html;
    }

    readData()
  </script>
</body>

</html>